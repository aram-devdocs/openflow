/**
 * Manual TypeScript Type Definitions
 *
 * These types cannot be auto-generated by typeshare because they use
 * features that typeshare doesn't support (e.g., #[serde(flatten)]).
 *
 * Keep these in sync with the corresponding Rust types in:
 * crates/openflow-contracts/src/entities/
 */

import type { Chat, Message } from './types';

/**
 * Chat with all its messages
 *
 * Corresponds to: crates/openflow-contracts/src/entities/chat.rs::ChatWithMessages
 *
 * The Rust type uses #[serde(flatten)] on the chat field, which means
 * all Chat properties are flattened into this interface directly.
 *
 * TODO: Update frontend code that uses `chatWithMessages.chat.title`
 * to use `chatWithMessages.title` directly after the Rust change.
 */
export interface ChatWithMessages extends Chat {
  /** All messages in this chat, ordered by created_at ASC */
  messages: Message[];
}

/**
 * Settings map (key-value store)
 *
 * Corresponds to: crates/openflow-contracts/src/entities/settings.rs::SettingsMap
 */
export type SettingsMap = Record<string, string>;
