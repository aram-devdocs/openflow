// =============================================================================
// AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
// =============================================================================
//
// Generated by: scripts/generate-queries.ts
// Source: crates/openflow-contracts/src/endpoints/mod.rs
// Domain: workflows
// Generated at: 2026-01-02T06:27:35.450Z
//
// This file contains type-safe query functions for the workflows domain.
// Each function wraps a Tauri IPC command with validation and logging.
//
// To regenerate: pnpm generate:queries
//
// @see CLAUDE.md - Query Layer Patterns section
// =============================================================================

import type { WorkflowTemplate } from '@openflow/generated';
import { createLogger } from '@openflow/utils';
import { invoke } from '../utils.js';

const logger = createLogger('queries:workflows:generated');

/**
 * Get built-in workflow templates
 *
 * @endpoint GET /api/workflows/templates/builtin
 * @command get_builtin_workflow_templates
 * @returns Promise resolving to WorkflowTemplate[]
 * @throws Error if validation or query fails
 */
export async function getBuiltinWorkflowTemplates(): Promise<WorkflowTemplate[]> {
  logger.debug('Calling get_builtin_workflow_templates');

  try {
    const result = await invoke<WorkflowTemplate[]>('get_builtin_workflow_templates');

    logger.info('get_builtin_workflow_templates completed', { count: result.length });

    return result;
  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error);
    logger.error('get_builtin_workflow_templates failed', { error: errorMessage });
    throw error;
  }
}

/**
 * Get a workflow template by ID
 *
 * @endpoint GET /api/workflows/templates/:id
 * @command get_workflow_template
 * @param id - Path parameter: id
 * @returns Promise resolving to WorkflowTemplate
 * @throws Error if validation or query fails
 */
export async function getWorkflowTemplate(id: string): Promise<WorkflowTemplate> {
  logger.debug('Calling get_workflow_template', { id });

  try {
    const result = await invoke<WorkflowTemplate>('get_workflow_template', { id: id });

    logger.info('get_workflow_template completed', { id: (result as Record<string, unknown>).id });

    return result;
  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error);
    logger.error('get_workflow_template failed', { error: errorMessage });
    throw error;
  }
}

/**
 * List workflow templates for a project
 *
 * @endpoint GET /api/workflows/templates
 * @command list_workflow_templates
 * @param projectId - Query parameter: project_id (optional)
 * @returns Promise resolving to WorkflowTemplate[]
 * @throws Error if validation or query fails
 */
export async function listWorkflowTemplates(projectId?: string): Promise<WorkflowTemplate[]> {
  logger.debug('Calling list_workflow_templates');

  try {
    const result = await invoke<WorkflowTemplate[]>('list_workflow_templates', { project_id: projectId });

    logger.info('list_workflow_templates completed', { count: result.length });

    return result;
  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error);
    logger.error('list_workflow_templates failed', { error: errorMessage });
    throw error;
  }
}

/**
 * Parse workflow content into a template
 *
 * @endpoint POST /api/workflows/parse
 * @command parse_workflow_content
 * @param content - Query parameter: content (optional)
 * @returns Promise resolving to WorkflowTemplate
 * @throws Error if validation or query fails
 */
export async function parseWorkflowContent(content?: string): Promise<WorkflowTemplate> {
  logger.debug('Calling parse_workflow_content');

  try {
    const result = await invoke<WorkflowTemplate>('parse_workflow_content', { content: content });

    logger.info('parse_workflow_content completed', { id: (result as Record<string, unknown>).id });

    return result;
  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error);
    logger.error('parse_workflow_content failed', { error: errorMessage });
    throw error;
  }
}
