// =============================================================================
// AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
// =============================================================================
//
// Generated by: scripts/generate-queries.ts
// Source: crates/openflow-contracts/src/endpoints/mod.rs
// Domain: artifacts
// Generated at: 2026-01-03T02:06:04.723Z
//
// This file contains type-safe query functions for the artifacts domain.
// Each function wraps a Tauri IPC command with validation and logging.
//
// To regenerate: pnpm generate:queries
//
// @see CLAUDE.md - Query Layer Patterns section
// =============================================================================

import type { ArtifactFile } from '@openflow/generated';
import { createLogger } from '@openflow/utils';
import { invoke } from '../utils.js';

const logger = createLogger('queries:artifacts:generated');

/**
 * Read the content of an artifact file
 *
 * @endpoint GET /api/tasks/:taskId/artifacts/:fileName
 * @command artifact_read
 * @param taskId - Path parameter: taskId
 * @param fileName - Path parameter: fileName
 * @returns Promise resolving to string
 * @throws Error if validation or query fails
 */
export async function artifactRead(taskId: string, fileName: string): Promise<string> {
  logger.debug('Calling artifact_read', { taskId, fileName });

  try {
    const result = await invoke<string>('artifact_read', { taskId: taskId, fileName: fileName });

    logger.info('artifact_read completed');

    return result;
  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error);
    logger.error('artifact_read failed', { error: errorMessage });
    throw error;
  }
}

/**
 * List all artifacts for a task
 *
 * @endpoint GET /api/tasks/:taskId/artifacts
 * @command artifacts_list
 * @param taskId - Path parameter: taskId
 * @returns Promise resolving to ArtifactFile[]
 * @throws Error if validation or query fails
 */
export async function artifactsList(taskId: string): Promise<ArtifactFile[]> {
  logger.debug('Calling artifacts_list', { taskId });

  try {
    const result = await invoke<ArtifactFile[]>('artifacts_list', { taskId: taskId });

    logger.info('artifacts_list completed', { count: result.length });

    return result;
  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error);
    logger.error('artifacts_list failed', { error: errorMessage });
    throw error;
  }
}
