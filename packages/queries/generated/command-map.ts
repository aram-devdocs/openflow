// =============================================================================
// AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
// =============================================================================
//
// Generated by: scripts/generate-queries.ts
// Source: crates/openflow-contracts/src/endpoints/mod.rs
// Generated at: 2026-01-02T23:48:54.962Z
//
// Maps Tauri command names to HTTP endpoints for the HTTP transport.
// Used when running in browser mode without Tauri.
//
// To regenerate: pnpm generate:queries
// =============================================================================

export interface EndpointMapping {
  method: 'GET' | 'POST' | 'PATCH' | 'PUT' | 'DELETE';
  path: string;
  pathParams: string[];
  queryParams: string[];
  hasRequestBody: boolean;
}

/**
 * Mapping from Tauri command names to HTTP endpoint metadata.
 * Used by the HTTP transport to convert IPC calls to REST requests.
 */
export const COMMAND_MAP: Record<string, EndpointMapping> = {
  append_message_content: {
    method: 'POST',
    path: '/api/messages/:id/append',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
  archive_chat: {
    method: 'POST',
    path: '/api/chats/:id/archive',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  archive_project: {
    method: 'POST',
    path: '/api/projects/:id/archive',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  archive_task: {
    method: 'POST',
    path: '/api/tasks/:id/archive',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  create_chat: {
    method: 'POST',
    path: '/api/chats',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  create_executor_profile: {
    method: 'POST',
    path: '/api/executor-profiles',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  create_message: {
    method: 'POST',
    path: '/api/messages',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  create_project: {
    method: 'POST',
    path: '/api/projects',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  create_pull_request: {
    method: 'POST',
    path: '/api/github/pull-requests',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  create_task: {
    method: 'POST',
    path: '/api/tasks',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  create_worktree: {
    method: 'POST',
    path: '/api/git/worktrees',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  delete_chat: {
    method: 'DELETE',
    path: '/api/chats/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  delete_executor_profile: {
    method: 'DELETE',
    path: '/api/executor-profiles/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  delete_message: {
    method: 'DELETE',
    path: '/api/messages/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  delete_project: {
    method: 'DELETE',
    path: '/api/projects/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  delete_setting: {
    method: 'DELETE',
    path: '/api/settings/:key',
    pathParams: ['key'],
    queryParams: [],
    hasRequestBody: false,
  },
  delete_task: {
    method: 'DELETE',
    path: '/api/tasks/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  delete_worktree: {
    method: 'DELETE',
    path: '/api/git/worktrees',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  duplicate_task: {
    method: 'POST',
    path: '/api/tasks/:id/duplicate',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_all_settings: {
    method: 'GET',
    path: '/api/settings',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  get_builtin_workflow_templates: {
    method: 'GET',
    path: '/api/workflows/templates/builtin',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  get_chat: {
    method: 'GET',
    path: '/api/chats/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_commits: {
    method: 'GET',
    path: '/api/git/commits',
    pathParams: [],
    queryParams: ['worktreePath', 'limit', 'baseRef'],
    hasRequestBody: false,
  },
  get_current_branch: {
    method: 'GET',
    path: '/api/git/branch/current',
    pathParams: [],
    queryParams: ['repoPath'],
    hasRequestBody: false,
  },
  get_default_executor_profile: {
    method: 'GET',
    path: '/api/executor-profiles/default',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  get_diff: {
    method: 'GET',
    path: '/api/git/diff',
    pathParams: [],
    queryParams: ['worktreePath', 'baseRef'],
    hasRequestBody: false,
  },
  get_executor_profile: {
    method: 'GET',
    path: '/api/executor-profiles/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_head_commit: {
    method: 'GET',
    path: '/api/git/head',
    pathParams: [],
    queryParams: ['repoPath'],
    hasRequestBody: false,
  },
  get_message: {
    method: 'GET',
    path: '/api/messages/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_process: {
    method: 'GET',
    path: '/api/processes/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_project: {
    method: 'GET',
    path: '/api/projects/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_setting: {
    method: 'GET',
    path: '/api/settings/:key',
    pathParams: ['key'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_setting_or_default: {
    method: 'GET',
    path: '/api/settings/:key/default',
    pathParams: ['key'],
    queryParams: ['defaultValue'],
    hasRequestBody: false,
  },
  get_task: {
    method: 'GET',
    path: '/api/tasks/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_task_commits: {
    method: 'GET',
    path: '/api/git/tasks/:task_id/commits',
    pathParams: ['task_id'],
    queryParams: ['limit'],
    hasRequestBody: false,
  },
  get_task_diff: {
    method: 'GET',
    path: '/api/git/tasks/:task_id/diff',
    pathParams: ['task_id'],
    queryParams: [],
    hasRequestBody: false,
  },
  get_workflow_template: {
    method: 'GET',
    path: '/api/workflows/templates/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  has_uncommitted_changes: {
    method: 'GET',
    path: '/api/git/status/dirty',
    pathParams: [],
    queryParams: ['repoPath'],
    hasRequestBody: false,
  },
  is_process_running: {
    method: 'GET',
    path: '/api/processes/:id/running',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  kill_process: {
    method: 'POST',
    path: '/api/processes/:id/kill',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  list_archived_chats: {
    method: 'GET',
    path: '/api/chats/archived',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  list_archived_projects: {
    method: 'GET',
    path: '/api/projects/archived',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  list_chats: {
    method: 'GET',
    path: '/api/chats',
    pathParams: [],
    queryParams: ['taskId'],
    hasRequestBody: false,
  },
  list_chats_by_project: {
    method: 'GET',
    path: '/api/projects/:project_id/chats',
    pathParams: ['project_id'],
    queryParams: [],
    hasRequestBody: false,
  },
  list_executor_profiles: {
    method: 'GET',
    path: '/api/executor-profiles',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  list_messages: {
    method: 'GET',
    path: '/api/messages',
    pathParams: [],
    queryParams: ['chatId'],
    hasRequestBody: false,
  },
  list_processes: {
    method: 'GET',
    path: '/api/processes',
    pathParams: [],
    queryParams: ['chatId'],
    hasRequestBody: false,
  },
  list_projects: {
    method: 'GET',
    path: '/api/projects',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  list_running_processes: {
    method: 'GET',
    path: '/api/processes/running',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  list_standalone_chats: {
    method: 'GET',
    path: '/api/chats/standalone',
    pathParams: [],
    queryParams: ['projectId'],
    hasRequestBody: false,
  },
  list_tasks: {
    method: 'GET',
    path: '/api/tasks',
    pathParams: [],
    queryParams: ['projectId', 'includeArchived'],
    hasRequestBody: false,
  },
  list_workflow_templates: {
    method: 'GET',
    path: '/api/workflows/templates',
    pathParams: [],
    queryParams: ['projectId'],
    hasRequestBody: false,
  },
  list_worktrees: {
    method: 'GET',
    path: '/api/git/worktrees',
    pathParams: [],
    queryParams: ['repoPath'],
    hasRequestBody: false,
  },
  open_in_editor: {
    method: 'POST',
    path: '/api/system/open-editor',
    pathParams: [],
    queryParams: ['path'],
    hasRequestBody: false,
  },
  parse_workflow_content: {
    method: 'POST',
    path: '/api/workflows/parse',
    pathParams: [],
    queryParams: ['content'],
    hasRequestBody: false,
  },
  push_branch: {
    method: 'POST',
    path: '/api/git/push',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  resize_process: {
    method: 'POST',
    path: '/api/processes/:id/resize',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
  reveal_in_explorer: {
    method: 'POST',
    path: '/api/system/reveal',
    pathParams: [],
    queryParams: ['path'],
    hasRequestBody: false,
  },
  run_executor: {
    method: 'POST',
    path: '/api/executor/run',
    pathParams: [],
    queryParams: [],
    hasRequestBody: true,
  },
  running_process_count: {
    method: 'GET',
    path: '/api/processes/count/running',
    pathParams: [],
    queryParams: [],
    hasRequestBody: false,
  },
  search: {
    method: 'GET',
    path: '/api/search',
    pathParams: [],
    queryParams: ['query', 'projectId'],
    hasRequestBody: false,
  },
  send_process_input: {
    method: 'POST',
    path: '/api/processes/:id/input',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
  set_message_streaming: {
    method: 'PATCH',
    path: '/api/messages/:id/streaming',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
  set_message_tokens: {
    method: 'PATCH',
    path: '/api/messages/:id/tokens',
    pathParams: ['id'],
    queryParams: ['inputTokens', 'outputTokens'],
    hasRequestBody: false,
  },
  set_setting: {
    method: 'PUT',
    path: '/api/settings/:key',
    pathParams: ['key'],
    queryParams: ['value'],
    hasRequestBody: false,
  },
  setting_exists: {
    method: 'GET',
    path: '/api/settings/:key/exists',
    pathParams: ['key'],
    queryParams: [],
    hasRequestBody: false,
  },
  spawn_terminal: {
    method: 'POST',
    path: '/api/terminal/spawn',
    pathParams: [],
    queryParams: ['chatId', 'workingDir'],
    hasRequestBody: false,
  },
  start_workflow_step: {
    method: 'POST',
    path: '/api/chats/:id/start-step',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  toggle_step_complete: {
    method: 'POST',
    path: '/api/chats/:id/toggle-step',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  unarchive_chat: {
    method: 'POST',
    path: '/api/chats/:id/unarchive',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  unarchive_project: {
    method: 'POST',
    path: '/api/projects/:id/unarchive',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  unarchive_task: {
    method: 'POST',
    path: '/api/tasks/:id/unarchive',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: false,
  },
  update_chat: {
    method: 'PATCH',
    path: '/api/chats/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
  update_executor_profile: {
    method: 'PATCH',
    path: '/api/executor-profiles/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
  update_project: {
    method: 'PATCH',
    path: '/api/projects/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
  update_task: {
    method: 'PATCH',
    path: '/api/tasks/:id',
    pathParams: ['id'],
    queryParams: [],
    hasRequestBody: true,
  },
};

/**
 * Build the URL path with parameter substitution.
 * @param command - Tauri command name
 * @param args - Arguments containing path parameter values
 * @returns The fully resolved URL path
 */
export function buildPath(command: string, args: Record<string, unknown> = {}): string {
  const mapping = COMMAND_MAP[command];
  if (!mapping) {
    throw new Error(`Unknown command: ${command}`);
  }

  let path = mapping.path;

  // Substitute path parameters
  for (const param of mapping.pathParams) {
    const value = args[param];
    if (value !== undefined) {
      path = path.replace(`:${param}`, encodeURIComponent(String(value)));
    }
  }

  // Add query parameters
  const queryParts: string[] = [];
  for (const param of mapping.queryParams) {
    const value = args[param];
    if (value !== undefined) {
      queryParts.push(`${param}=${encodeURIComponent(String(value))}`);
    }
  }

  if (queryParts.length > 0) {
    path += `?${queryParts.join('&')}`;
  }

  return path;
}

/**
 * Get the request body from arguments, excluding path/query params.
 * @param command - Tauri command name
 * @param args - All arguments
 * @returns The request body object or undefined
 */
export function getRequestBody(
  command: string,
  args: Record<string, unknown> = {}
): unknown | undefined {
  const mapping = COMMAND_MAP[command];
  if (!mapping || !mapping.hasRequestBody) {
    return undefined;
  }

  // The request body is typically in a 'request' field
  if ('request' in args) {
    return args.request;
  }

  // Otherwise, return args minus path/query params
  const body: Record<string, unknown> = {};
  const excludeKeys = new Set([...mapping.pathParams, ...mapping.queryParams]);

  for (const [key, value] of Object.entries(args)) {
    if (!excludeKeys.has(key)) {
      body[key] = value;
    }
  }

  return Object.keys(body).length > 0 ? body : undefined;
}
